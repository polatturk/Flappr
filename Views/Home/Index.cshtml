<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha512-..." crossorigin="anonymous" referrerpolicy="no-referrer" />

﻿@using System.Globalization
@model List<Flap>

@section Styles {
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
}

@* @section Scripts {

    <script defer>
        function toggleCommentInput() {
            const commentInput = document.querySelector('#comment-input');
            commentInput.classList.toggle('hidden');
        }

        function handleLikeButtonClick(button) {
            button.innerHTML = '<svg class="w-5 h-5 mr-1" fill="currentColor" viewBox="0 0 20 20"><path d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z"></path></svg>\n Beğendi';

            const heartContainer = document.querySelector('.heart-container');
            const heart = document.createElement('div');
            heart.className = 'heart';
            heart.innerHTML = '❤️';
            heartContainer.appendChild(heart);

            setTimeout(() => {
                heart.remove();
            }, 1000);
        }

        function handleFollowButtonClick(button) {
            button.innerHTML = ' Takip Edildi';
            button.disabled = true;
        }
    </script>
} *@

<style>

    /* Sidebar genel stil */
    .sidebar {
        position: fixed;
        top: 0;
        left: 0;
        height: 100vh; /* tam ekran yüksekliği */
        width: 220px;
        background-color: rgba(0, 0, 0, 0.85);
        display: flex;
        flex-direction: column;
        padding: 20px 15px;
        box-shadow: 2px 0 8px rgba(0,0,0,0.3);
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

        /* Logo */
        .sidebar .logo img {
            width: 150px;
            height: auto;
            margin-bottom: 30px;
            user-select: none;
        }

        /* Menü */
        .sidebar .menu {
            list-style: none;
            padding: 0;
            margin: 0;
            flex-grow: 1; /* boşluğu kaplar, user-info’yu alta iter */
        }

            .sidebar .menu li {
                margin-bottom: 15px;
            }

            .sidebar .menu a {
                color: #eee;
                text-decoration: none;
                font-size: 1rem;
                font-weight: 600;
                padding: 10px 14px;
                border-radius: 12px;
                display: block;
                transition: all 0.3s ease;
                border: 2px solid transparent;
            }

                .sidebar .menu a:hover {
                    background-color: #4da3ff;
                    color: #fff;
                    border-color: #4da3ff;
                }

            /* Profil linki özel */
            .sidebar .menu .profile-link a {
                font-weight: 700;
                color: #1e80e0;
            }

        /* Kullanıcı info */
        .sidebar .user-info {
            margin-top: auto; /* en alta kayar */
            font-size: 0.9rem;
            color: #ccc;
            font-weight: 600;
        }

            .sidebar .user-info span {
                color: #4da3ff;
                display: block;
                margin-bottom: 8px;
            }

            .sidebar .user-info a {
                color: #ff6b6b;
                font-weight: 700;
                text-decoration: none;
                padding: 6px 14px;
                border-radius: 12px;
                border: 2px solid transparent;
                transition: all 0.3s ease;
                display: inline-block;
            }

                .sidebar .user-info a:hover {
                    background-color: #ff4c4c;
                    border-color: #ff4c4c;
                    color: #fff;
                }

    /* Mobil görünüm */
    @@media (max-width: 576px) {
        .sidebar {
            width: 180px;
            padding: 15px 10px;
        }

            .sidebar .menu a {
                font-size: 0.9rem;
                padding: 8px 12px;
            }
    }

</style>

<div class="sidebar">
    <!-- Logo -->
    <a class="logo" asp-area="" asp-controller="Home" asp-action="Index">
        <img src="/Img/Flappr-logo.png" alt="Flappr Logo" />
    </a>

    <!-- Menü -->
    <ul class="menu">
        <li>
            <a asp-area="" asp-controller="Home" asp-action="Index">
                <i class="fas fa-home"></i> Anasayfa
            </a>
        </li>
        <li>
            <a asp-area="" asp-controller="Home" asp-action="/profil/@ViewData["Mail"]">
                <i class="fas fa-user"></i> Profil
            </a>
        </li>
        <li>
            <a asp-area="" asp-controller="Home" asp-action="Search">
                <i class="fas fa-search"></i> Ara
            </a>
        </li>
        <li>
            <a asp-area="" asp-controller="Home" asp-action="Search">
                <i class="fas fa-compass"></i> Keşfet
            </a>
        </li>
        <li>
            <a asp-area="" asp-controller="Home" asp-action="Search">
                <i class="fas fa-bell"></i> Bildirimler
            </a>
        </li>
        <li>
            <a asp-area="" asp-controller="Home" asp-action="Search">
                <i class="fas fa-envelope"></i> Mesajlar
            </a>
        </li>
        <li>
            <a asp-area="" asp-controller="Home" asp-action="Search">
                <i class="fas fa-cog"></i> Ayarlar
            </a>
        </li>
    </ul>

    <div class="user-info">
        <a href="/home/cikis">
            <i class="fas fa-sign-out-alt"></i> Çıkış Yap
        </a>
    </div>
</div>
@if (ViewData["nickname"] != null)
{
    <div class="container mt-5">
        <div class="card">
            <div class="card-body">
                <form action="/AddFlap" method="post" autocomplete="off">
                    <div class="d-flex align-items-center mb-3">
                        <select class="form-select w-auto" id="visibilitySelect" name="visibility">
                            <option value="true">Public</option>
                            <option value="false">Private</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <textarea name="detail" class="form-control" id="FlapContent" rows="3" placeholder="Neler oluyor?"></textarea>
                    </div>
                    <br>
                    <div class="d-flex justify-content-between mb-3">
                        <button type="submit" class="btn btn-success ">Flapla</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
}

@foreach (var item in Model)
{
    <body class="bg-gray-200">
        <div class="max-w-xl mx-auto mt-10">
            <div class="bg-white p-4 rounded-lg shadow-md">
                <div class="flex items-start">
                    <a href="/profil/@item.Nickname">
                        <img class="w-12 h-12 rounded-full" src="/uploads/images.jpg" alt="Profile Photo">
                    </a>
                    <div class="ml-4">
                        <div class="flex items-center">
                            <h2 class="font-bold text-lg">
                                <a href="/profil/@item.Nickname"> @item.Username </a>
                            </h2>
                            <span class="ml-2 text-gray-500">@@@item.Nickname</span>
                        </div>
                        <div class="text-gray-500 text-sm">Takipçi: 1234 | Takip Edilen: 567</div> 
                        <p class="mt-2 text-gray-800">@item.Detail</p>
                        @* <img class="mt-2 rounded-lg" src="https://via.placeholder.com/300" alt="Flap Media"> *@
                        <div class="text-gray-500 text-sm mt-2">@item.CreatedDate.ToString("g", CultureInfo.GetCultureInfo("tr"))</div>
                        <div class="d-flex align-items-center mt-4">
                            <div class="text-blue-500 hover:text-blue-600 ml-4">
                                <a href="/Flap/@item.Id">Gönderiye Git</a>
                            </div>
                            <div class="ml-4">
                                Yorum Sayısı: @item.YorumSayisi
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
}